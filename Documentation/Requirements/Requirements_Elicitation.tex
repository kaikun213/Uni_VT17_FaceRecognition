\documentclass[a4paper,11pt]{article}
\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\usepackage[none]{hyphenat}
\usepackage{xcolor,colortbl}
\definecolor{Gray}{rgb}{0.9,0.9,0.9}
\usepackage[top=2cm, bottom=2cm, left=2.5cm, right=2.5cm]{geometry}

% ------------ Title section

\newcommand\BackgroundPic{
    \put(-2,-3){
    \includegraphics[keepaspectratio,scale=0.3]{img/lnu_etch.png} % Background picture
    }
}
\newcommand\BackgroundPicLogo{
    \put(30,740){
    \includegraphics[keepaspectratio,scale=0.10]{img/logo.png} % Logo in upper left corner
    }
}

\title{	
\vspace{-8cm}
\begin{flushleft}
    \vspace{10cm}
    \normalfont \normalsize
    %\Huge Bachelor/Master Thesis Project \\
    \vspace{-1.3cm}
\end{flushleft}
\vspace{3cm}
\begin{flushleft}
    \huge Face Recognition System \\ 
    \LARGE  Requirements Elicitation\\
\end{flushleft}
\null
\vfill
\begin{minipage}{\textwidth}
\begin{flushleft} \large
\emph{Authors:} Walid Balegh, Jakob Heyder, Sarpreet Singh Buttar, Henry Pap\\ \hspace{45pt} and Oscar Maris \\ % Author
%\emph{Supervisor:} Name of your supervisor\\ % Supervisor
%\emph{Examiner:} Dr.~Mark \textsc{Brown}\\ % Examiner (course manager)
\emph{Semester:} VT 2017\\ % 
%\emph{Subject:} Computer Science\\ % Subject area
\end{flushleft}
\end{minipage}
}

\date{}

% ------------- Document beginning
\begin{document}

\maketitle

%  ############ NOTES ################
%  Roles [Admin, User, System] - Description, Objectives 

%Introduction [Scope(exclude to broad goals), Purpose etc.]

%Domain Knowledge and Constraints (Overview)
%-> Non functional requirements (Quality constraints, platform constraints, process constraint)

%System as it is -> System to be (Why?, What? , How? and Who?)

%Functional requirements
%-> verifiable !
%-> inputs , outputs , data , computation, timing (of system)
%-> traceable to rational (real world problem from customer)
%  ############ NOTES ################
\newpage

\section{Introduction}

\subsection{Purpose}
The purpose of this document is to describe the requirements for a face recognition system which matches a photo and a Swedish personal number by exposing a well defined API. Additionally it will describe the requirements for a sample client user system which uses the API.
\newline
\noindent
The intended audience includes the software developers and the respective clients assessment person.

\subsection{Scope}

The software system to be produced is a Face Recognition System, which will be referred  to as "FRS" through this document.
\newline
\noindent
The Face Recognition System will allow authenticated services to request a personal number with a given photo.
FRS could be used in bank-, state systems or other services where identification of a person is critical.
The administrative entity could be a state or other high security organization which provides the data used from the FRS.
FRS administrators will be able to register, delete, update and list user data.
Therefore the FRS is split into a user component and an administrative component, which each needs different authentication and are logically separate from each other.

 
\subsection{Definitions, acronyms and abbreviations}
\begin{itemize}
\item \textbf{USM : User Server Module}
\item \textbf{ASM : Admin Server Module}
\item \textbf{UCM : User Client Module}
\item \textbf{EFR : External Face Recognition API}
\item \textbf{FRS : Face Recognition System to be developed}
\item \textbf{PN : Swedish Personal Number}
\end{itemize}

\subsection{References}
N/A
\subsection{Roles} \label{Roles}
\begin{itemize}
\item \textbf{User :} Verified and registered service which is authenticated to use the the User API. E.g. Skatteverket or Swedbank.
\item \textbf{Admin :} Verified and registered partner which provides the trusted information and has full control over the application and data.
\item \textbf{Developer :} Fully privileged people which develop the system and have access to the Admin-,User interfaces and the source code during development. 
\end{itemize}

\subsection{Overview}
The rest of this document contains an overall description of the Face Recognition System and the constraints (section 2), the specific functional requirements for the system (section 3) and the Use case and scenario modeling for functional requirements (section 4).

\newpage
\section{Overall description}

\subsection{Product perspective}
In some services such as financial or official matters there is a need to identify a person fast and securely. The FRS can provide this functionality and make the process easier and more reliable.

\subsubsection{System Interfaces}
The FRS depends on an external face recognition API to compare the photos. This service can be developed in house or made use of existing systems. Beside the external dependency it consists of four different modules: the User Client Module (UCM), the User Server Module (USM), the Admin Server Module (ASM) and a database. (see figure 1)
\begin{figure}[h!]
	\centering
	\label{System Interfaces}
	\includegraphics[width=0.95\textwidth,keepaspectratio]{images/Overview\string_System\string_Interfaces.png} 
	\caption{Overview over the system interfaces}
\end{figure}
\newpage
\noindent
The UCM allows User services to log on to the FRS and request a personal number with a given image. The USM is a daemon that accepts connections from the UCM and serves with the requested information. The USM is dependent on the External Face Recogntion API (EFR) to match the given photo to a registered one. The Admin Server Module serves the API for the ACM to register, delete, update and get user data. It directly interacts with the PN-Database and indirectly uses the EFR to modify the Image-Database.
\newline
\noindent
The User Client Module can be \textit{any} verified and registered Application which depends on the USM API. The given UCM will be an example service. The gray marked components are external components that are not in the scope of this document and will only be mentioned in context of dependencies. 

\subsubsection{User Interfaces}
The User Client Module must provide an interface to manage the API. This will be a mobile (Android/iOS) or web (WWW Browser) interface. 
\subsubsection{Hardware Interfaces}
All components must be able to execute on a personal computer.

\subsubsection{Software Interfaces}
The software interfaces of the modules will be further defined in the FRS Design Document.

\subsubsection{Communication Interfaces}
The client, server modules and the EFR communication will be over a TCP/IP connection.
The PN-database will be located locally or interacted remotely over a TCP/IP connection, this will be further defined in the FRS Design Document.

\subsubsection{Security constraints}
All sent personal numbers must be encrypted end to end. Services must be authenticated to interact with the API. The external service does not have any information about the personal numbers or other high security informations saved and only the images are shared.

\subsection{Product functions}
The two main functions of the Face Recognition System are to allow user services to retrieve a personal number corresponding to a photo of a face, and to allow administrators to manage the data.
\newline
\noindent
For managerial purposes it is useful to have the option to \textit{RETRIEVE} all persons and then have the basic REST functionality to \textit{ADD},\textit{UPDATE} or \textit{DELETE} a person. A person entity consists of a personal number and an biometric picture of the person.

\subsection{User characteristics}
The User as defined in \ref{Roles} is a verified and registered service which provides the User Client Module to interact with the USM.

\subsection{Constraints}
The system should enforce User and Admin authentication security and guarantee encrypted communication of critical data.
 
\subsection{Assumptions and Dependencies}
The FRS will depend on an external face recognition API to compare photos. This can be developed in house or made use from existing systems. The system is developed under the assumption that the external component is reliable, secure, scalable and functional. 

\section{Specific functional requirements}

\subsection{User Client Module}
% Get Personal Number from Photo (Client view)

\subsection{User Server Module}
% Get Personal Number from Photo (Server view)

\subsection{Admin Server Module}
% Add, Delete, Update, Get multiple users

\newpage
\section{Modeling of functional requirements}
% Use cases with scenarios model

%USER

\begin{tabular}{|p{3.5cm}|p{11.5cm}|} \hline
    \textbf{Title} &   User \emph{GET} personal number
        
    \\ \hline \rowcolor{Gray} & \\ \hline
        
    \textbf{Description} &  The user should be able to provide an image of a person's face within the UCM. Using the EFR the image will be compared to other images within the server. The user will then receive a PN matching the originally provided image. In the event that request fails an error message will be provided to the user further specifying the issue.
        
    \\ \hline \rowcolor{Gray} & \\ \hline
        
    \textbf{Primary actor} & User  
        
    \\ \hline \rowcolor{Gray} & \\ \hline 
          
    \textbf{Pre-conditions} &   User must be authenticated
        
    \\ \hline \rowcolor{Gray} & \\ \hline
         
    \textbf{Post-conditions} &   User must receive a notification
        
    \\ \hline \rowcolor{Gray} & \\ \hline 
         
    \textbf{Initiation} & User sends a GET request to FRS
        
    \\ \hline \rowcolor{Gray} & \\ \hline 
         
    \textbf{Primary flow} & 
    \textbf{1)} The User provides an image of a person's face \\&
    \textbf{2)} The User receives a matching PN \\&
        
    \\ \hline \rowcolor{Gray} & \\ \hline 
         
    \textbf{Secondary flow(1)} & 
    \textbf{2a)} The User receives an error message dependant on the issue at hand
    
\end{tabular}

%ADMIN lol

\begin{tabular}{|p{3.5cm}|p{11.5cm}|} \hline
    \textbf{Title} &   Admin \emph{GET} list personal numbers
        
    \\ \hline \rowcolor{Gray} & \\ \hline
        
    \textbf{Description} &  The admin should be able to get a list of all the PNs from the ASN. 
        
    \\ \hline \rowcolor{Gray} & \\ \hline
        
    \textbf{Primary actor} & Admin  
        
    \\ \hline \rowcolor{Gray} & \\ \hline 
          
    \textbf{Pre-conditions} &   Admin must be authenticated
        
    \\ \hline \rowcolor{Gray} & \\ \hline
         
    \textbf{Post-conditions} &   Admin must receive a notification
        
    \\ \hline \rowcolor{Gray} & \\ \hline 
         
    \textbf{Initiation} & Admin sends a GET request to FRS
        
    \\ \hline \rowcolor{Gray} & \\ \hline 
         
    \textbf{Primary flow} & 
    \textbf{1)} The admin sends a GET request \\&
    \textbf{2)} The admin then receives a list of all the PNs currently on the server. \\&
        
    \\ \hline \rowcolor{Gray} & \\ \hline 
         
    \textbf{Secondary flow(1)} & 
    \textbf{2a)} The amin receives an error if the server is inactive (or other issue)

\end{tabular}

\begin{tabular}{|p{3.5cm}|p{11.5cm}|} \hline
    \textbf{Title} &   Admin \emph{ADD} a new user
        
    \\ \hline \rowcolor{Gray} & \\ \hline
        
    \textbf{Description} &  Admin want to add a new user. In order to add a new user, admin send a POST request to FRS which include user's image and PN(YYYYMMDD-XXXX). In result, admin receives an appropriate notification from the FRS.
        
    \\ \hline \rowcolor{Gray} & \\ \hline
        
    \textbf{Primary actor} & Admin  
        
    \\ \hline \rowcolor{Gray} & \\ \hline 
          
    \textbf{Pre-conditions} &   Admin must be authenticated
        
    \\ \hline \rowcolor{Gray} & \\ \hline
         
    \textbf{Post-conditions} &   Admin must receive a notification
        
    \\ \hline \rowcolor{Gray} & \\ \hline 
         
    \textbf{Initiation} & Admin send POST request to FNS
        
    \\ \hline \rowcolor{Gray} & \\ \hline 
         
    \textbf{Primary flow} & 
    \textbf{1)} FRS receive a POST request \\&
    \textbf{2)} FRS accept the request and save the user's image and PN \\&
    \textbf{3)} FRS send a success notification to admin \\&
    \textbf{4)} Admin receive a success notification
        
    \\ \hline \rowcolor{Gray} & \\ \hline 
         
    \textbf{Secondary flow(1)} & 
    \textbf{2a)} FRS reject the request because user's image file is corrupted \\&
    \textbf{2b)} FRS send a failure notification to admin\\&
    \textbf{2c)} Admin receive a failure notification
     
    \\ \hline \rowcolor{Gray} & \\ \hline 
     
    \textbf{Secondary flow(2)} & 
    \textbf{2a)} FRS reject the request because user's PN format is incorrect \\&
    \textbf{2b)} FRS send a failure notification to admin\\&
    \textbf{2c)} Admin receive a failure notification
    
   \\ \hline \rowcolor{Gray} & \\ \hline
    
    \textbf{Secondary flow(3)} & 
    \textbf{2a)} FNS reject the request because user's PN is invalid \\&
    \textbf{2b)} FNS send a failure notification \\&
    \textbf{2c)} Admin receive a failure notification
    
    \\ \hline \rowcolor{Gray} & \\ \hline
    
    \textbf{Secondary flow(4)} & 
    \textbf{2a)} FNS reject the request because user's image is corrupted and PN is invalid\\&
    \textbf{2b)} FNS send a failure notification \\&
    \textbf{2c)} Admin receive a failure notification
    
    \\ \hline \rowcolor{Gray} & \\ \hline
    
    \textbf{Secondary flow(5)} & 
    \textbf{2a)} FNS reject the request because user's image is corrupted and PN format is incorrect\\&
    \textbf{2b)} FNS send a failure notification \\&
    \textbf{2c)} Admin receive a failure notification
    \\\hline 
\end{tabular}


\newpage
\noindent

\begin{tabular}{|p{3.5cm}|p{11.5cm}|} \hline
    \textbf{Title} &   Admin \emph{DELETE} a user
        
    \\ \hline \rowcolor{Gray} & \\ \hline
        
    \textbf{Description} &  Admin want to delete a user. In order to delete a user, admin send a DELETE request to FNS which include user's unique id(should be integer). In result, admin receives an appropriate notification from the FNS.
        
    \\ \hline \rowcolor{Gray} & \\ \hline
        
    \textbf{Primary actor} & Admin  
        
    \\ \hline \rowcolor{Gray} & \\ \hline 
          
    \textbf{Pre-conditions} &   Admin must be authenticated
        
    \\ \hline \rowcolor{Gray} & \\ \hline
         
    \textbf{Post-conditions} &   Admin must receive a notification
        
    \\ \hline \rowcolor{Gray} & \\ \hline 
         
    \textbf{Initiation} & Admin send DELETE request to FNS
        
    \\ \hline \rowcolor{Gray} & \\ \hline 
         
    \textbf{Primary flow} & 
    \textbf{1)} FNS receive a DELETE request \\&
    \textbf{2)} FNS accept the request and delete the requested user's data(image and PN) \\&
    \textbf{3)} FNS send a success notification to admin \\&
    \textbf{4)} Admin receive a success notification
        
    \\ \hline \rowcolor{Gray} & \\ \hline 
         
    \textbf{Secondary flow(1)} & 
    \textbf{2a)} FNS reject the request because user's unique id is not found \\&
    \textbf{2b)} FNS send a failure notification to admin\\&
    \textbf{2c)} Admin receive a failure notification
     
    \\ \hline \rowcolor{Gray} & \\ \hline 
     
    \textbf{Secondary flow(2)} & 
    \textbf{2a)} FNS reject the request because user's unique id format is incorrect \\&
    \textbf{2b)} FNS send a failure notification to admin\\&
    \textbf{2c)} Admin receive a failure notification
    \\ \hline 
\end{tabular}

\end{document}
